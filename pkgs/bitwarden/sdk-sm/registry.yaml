# yaml-language-server: $schema=https://raw.githubusercontent.com/aquaproj/aqua/main/json-schema/registry.json
packages:
  - type: github_release
    repo_owner: bitwarden
    repo_name: sdk-sm
    description: Bitwarden Secrets Manager CLI.
    version_constraint: 'semverWithVersion(">= 1.0.0", trimPrefix(Version, "bws-"))'
    asset: bws
    files:
    - name: bws
      src: ./bws
    format: zip
    overrides:
    - goos: darwin
      goarch: amd64
      asset: bws-x86_64-apple-darwin-{{trimPrefix "bws-v" .Version}}
    - goos: darwin
      goarch: arm64
      asset: bws-aarch64-apple-darwin-{{trimPrefix "bws-v" .Version}}
    - goos: linux
      goarch: amd64
      asset: bws-x86_64-unknown-linux-gnu-{{trimPrefix "bws-v" .Version}}
    - goos: linux
      goarch: arm64
      asset: bws-aarch64-unknown-linux-gnu-{{trimPrefix "bws-v" .Version}}
    - goos: windows
      goarch: amd64
      asset: bws-x86_64-pc-windows-msvc-{{trimPrefix "bws-v" .Version}}
    - goos: windows
      goarch: arm64
      asset: bws-aarch64-pc-windows-msvc-{{trimPrefix "bws-v" .Version}}
    search_words:
    - bws
    - bitwarden-secrets-manager
    - bitwarden-secrets-manager-cli
    supported_envs:
    - darwin
    - linux
    - windows
    checksum:
      type: github_release
      asset: bws-sha256-checksums-{{trimPrefix "bws-v" .Version}}.txt
      algorithm: sha256
